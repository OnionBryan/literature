<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Strength of Weak Ties - Granovetter (1973)</title>
    <!--
      Review of:
      Granovetter, M. S. (1973).
      The Strength of Weak Ties.
      American Journal of Sociology, 78(6), 1360-1380.

      This is a PROCESS MODEL explaining the mechanism by which weak social ties
      provide advantages in information diffusion and opportunity access.
    -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Lato', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e8ba3 100%);
            color: #333;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Typography */
        h1, h2, h3, .definition-term, .result-box-label, .card h4, .breakdown-header {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
        }

        /* Page Navigation */
        .page-nav-container {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .page-nav {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .page-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            font-family: 'Lato', sans-serif;
            font-weight: 700;
        }

        .page-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .page-btn.active {
            background: white;
            color: #1e3c72;
            border-color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            color: white;
            padding: 60px 20px;
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 40px;
            animation: fadeIn 1s ease;
        }

        .header h1 {
            font-size: 3.2em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            background: linear-gradient(45deg, #ffffff, #d4e9fd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle {
            font-size: 1.4em;
            opacity: 0.95;
            margin-bottom: 10px;
        }

        .header .stats-preview {
            font-size: 1.1em;
            background: rgba(255,255,255,0.1);
            display: inline-block;
            padding: 10px 25px;
            border-radius: 25px;
            margin-top: 15px;
        }

        /* Section Styles */
        .section {
            background: #fdfdff;
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            animation: slideUp 0.8s ease;
        }

        .section h2 {
            color: #1e3c72;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid #1e3c72;
            font-size: 2.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h3 {
            color: #2a5298;
            margin: 25px 0 15px;
            font-size: 1.6em;
        }

        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        /* Card Styles */
        .card {
            background: #ffffff;
            padding: 25px;
            border-radius: 15px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            border-top: 4px solid #2a5298;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 24px rgba(30,60,114,0.15);
            border-color: #2a5298;
        }

        .card h4 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        /* Stat Box Styles */
        .stat-box {
            background: linear-gradient(135deg, #1d3557 0%, #457b9d 100%);
            color: #f1faee;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-box::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(0.8); opacity: 0.5; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }

        .stat-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(30,60,114,0.4);
        }

        .stat-value {
            font-size: 2.8em;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            position: relative;
            z-index: 1;
        }

        .stat-label {
            font-size: 1.1em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        /* Key Finding Box */
        .key-finding {
            background: linear-gradient(135deg, #e67e22 0%, #f39c12 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            font-size: 1.15em;
            box-shadow: 0 8px 20px rgba(230, 126, 34, 0.3);
            border-left: 5px solid #d35400;
        }

        /* Insight Box */
        .insight-box {
            background: linear-gradient(135deg, #005f73 0%, #0a9396 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 8px 20px rgba(0, 95, 115, 0.3);
        }

        /* Tab System */
        .tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 24px;
            background: #f0f4f8;
            border: 2px solid #e0e6ed;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 700;
            font-family: 'Lato', sans-serif;
        }

        .tab:hover {
            background: #e0e6ed;
            transform: translateY(-2px);
        }

        .tab.active {
            background: #1e3c72;
            color: white;
            border-color: #1e3c72;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e6ed;
        }

        th {
            background: #1e3c72;
            color: white;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 0.5px;
        }

        tr:hover {
            background: #f8f9fa;
        }

        /* Process Flow Styles */
        .process-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .process-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .process-step:hover {
            transform: translateX(10px);
            box-shadow: 0 4px 12px rgba(30,60,114,0.2);
        }

        .process-number {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .process-content h4 {
            color: #1e3c72;
            margin-bottom: 8px;
        }

        .process-arrow {
            text-align: center;
            font-size: 2em;
            color: #2a5298;
            margin: 10px 0;
        }

        /* Network Visualization */
        .network-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .network-svg {
            max-width: 100%;
            height: auto;
        }

        /* Dark Mode Toggle */
        .dark-mode-toggle {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 1001;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .dark-mode-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
        }

        body.dark-mode .section {
            background: #1e293b;
            color: #e2e8f0;
        }

        body.dark-mode .section h2,
        body.dark-mode .section h3 {
            color: #60a5fa;
        }

        body.dark-mode .card {
            background: #0f172a;
            color: #e2e8f0;
            border-top-color: #60a5fa;
        }

        body.dark-mode .card h4 {
            color: #93c5fd;
        }

        body.dark-mode .process-step {
            background: #0f172a;
            color: #e2e8f0;
        }

        body.dark-mode .process-content h4 {
            color: #93c5fd;
        }

        body.dark-mode table {
            background: #0f172a;
        }

        body.dark-mode th {
            background: #1e3c72;
        }

        body.dark-mode td {
            color: #e2e8f0;
        }

        body.dark-mode tr:hover {
            background: #334155;
        }

        body.dark-mode .tab {
            background: #334155;
            color: #e2e8f0;
            border-color: #475569;
        }

        body.dark-mode .tab.active {
            background: #3b82f6;
            border-color: #3b82f6;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Attribution */
        .attribution {
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            color: white;
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            margin-top: 40px;
        }

        .attribution a {
            color: #93c5fd;
            text-decoration: none;
            font-weight: 700;
        }

        .attribution a:hover {
            text-decoration: underline;
        }

        /* Network Simulator Styles */
        .network-simulator {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        body.dark-mode .network-simulator {
            background: #0f172a;
        }

        .simulator-controls {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            align-items: center;
        }

        .control-btn {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95em;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(30, 60, 114, 0.3);
            font-family: 'Lato', sans-serif;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(30, 60, 114, 0.4);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        .control-btn.active {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.3);
        }

        .control-btn.secondary {
            background: linear-gradient(135deg, #64748b 0%, #475569 100%);
        }

        .control-btn.danger {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
        }

        .control-btn.edge-type-btn {
            padding: 10px 20px;
            font-size: 0.9em;
        }

        #networkCanvas {
            width: 100%;
            height: 600px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            cursor: default;
            display: block;
        }

        body.dark-mode #networkCanvas {
            background: #1e293b;
        }

        .network-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 25px;
        }

        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border-left: 4px solid #2a5298;
            transition: all 0.3s ease;
        }

        body.dark-mode .metric-card {
            background: #334155;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .metric-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .metric-label {
            font-size: 0.8em;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        body.dark-mode .metric-label {
            color: #94a3b8;
        }

        .metric-value {
            font-size: 2em;
            font-weight: 700;
            color: #1e3c72;
            font-family: 'Playfair Display', serif;
        }

        body.dark-mode .metric-value {
            color: #93c5fd;
        }

        .legend {
            display: flex;
            gap: 25px;
            margin-top: 20px;
            padding: 18px;
            background: white;
            border-radius: 10px;
            flex-wrap: wrap;
            align-items: center;
        }

        body.dark-mode .legend {
            background: #334155;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95em;
            font-weight: 500;
        }

        .legend-line {
            width: 40px;
            height: 3px;
            border-radius: 2px;
        }

        .legend-line.strong {
            background: #1e3c72;
            height: 4px;
        }

        .legend-line.weak {
            height: 2px;
            border-top: 2px dashed #94a3b8;
            background: none;
        }

        .help-text {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 20px;
            border-radius: 8px;
            font-size: 0.95em;
        }

        body.dark-mode .help-text {
            background: rgba(255, 193, 7, 0.1);
            border-left-color: #fbbf24;
            color: #e2e8f0;
        }

        .quality-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            color: white;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .preset-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .preset-btn {
            background: linear-gradient(135deg, #e67e22 0%, #f39c12 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9em;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(230, 126, 34, 0.3);
        }

        .preset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(230, 126, 34, 0.4);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .section h2 {
                font-size: 1.6em;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            #networkCanvas {
                height: 400px;
            }

            .simulator-controls {
                gap: 8px;
            }

            .control-btn {
                padding: 10px 16px;
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">üåô Dark Mode</button>

    <!-- Page Navigation -->
    <div class="page-nav-container">
        <div class="page-nav">
            <button class="page-btn active" onclick="switchPage('main', this)">Main Study Overview</button>
            <button class="page-btn" onclick="switchPage('process', this)">Process Model & Theory</button>
            <button class="page-btn" onclick="switchPage('analysis', this)">Empirical Findings</button>
            <button class="page-btn" onclick="switchPage('interactive', this)">üéÆ Interactive Tools</button>
        </div>
    </div>

    <!-- MAIN PAGE -->
    <div id="main">
        <div class="container">
            <!-- Header -->
            <div class="header">
                <h1>The Strength of Weak Ties</h1>
                <p class="subtitle">Bridging Social Cliques Through Casual Connections</p>
                <p class="subtitle">Granovetter (1973) - A Process Model</p>
                <div class="stats-preview">
                    üìä 282 Job Seekers | üèÜ One of the Most Cited Papers in Sociology
                </div>
            </div>

            <!-- Key Statistics -->
            <div class="section">
                <h2>üìä Key Empirical Findings</h2>
                <div class="grid">
                    <div class="stat-box">
                        <div class="stat-value">83.4%</div>
                        <div class="stat-label">Found Jobs Through Weak or Moderate Ties</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">16.7%</div>
                        <div class="stat-label">Found Jobs Through Strong Ties (‚â•2x/week contact)</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">282</div>
                        <div class="stat-label">Men Surveyed in Newton, Massachusetts</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">54</div>
                        <div class="stat-label">Found Jobs Through Personal Contacts</div>
                    </div>
                </div>

                <div class="key-finding">
                    <strong>üéØ Core Finding:</strong> Weak ties‚Äîcasual acquaintances seen occasionally or rarely‚Äîwere significantly more helpful than strong ties (close friends and family) in helping people find new jobs. This contradicted the common assumption that close relationships are always more valuable.
                </div>

                <div class="insight-box">
                    <p><strong>üí° Why This Matters:</strong> This paper revolutionized network theory by showing that the structure of social networks, not just the strength of individual relationships, determines access to information and opportunities. It provided the theoretical foundation for understanding how information diffuses through societies and how individuals can access resources beyond their immediate social circle.</p>
                </div>
            </div>

            <!-- Model Type -->
            <div class="section">
                <h2>üîç Model Type: Process Model</h2>
                <p><strong>This is a PROCESS MODEL</strong> rather than a variance model. It explains the <em>mechanism</em> and <em>process</em> by which weak ties provide advantages:</p>

                <div class="grid">
                    <div class="card">
                        <h4>What Process Models Do</h4>
                        <p>Explain <strong>HOW</strong> and <strong>WHY</strong> something happens through a sequence of events or mechanisms. They focus on the underlying process that connects causes to effects.</p>
                    </div>
                    <div class="card">
                        <h4>Granovetter's Process</h4>
                        <p>Explains how <strong>weak ties serve as bridges</strong> between dense social clusters, providing access to <strong>novel, non-redundant information</strong> that strong ties cannot provide due to network overlap.</p>
                    </div>
                    <div class="card">
                        <h4>Key Mechanism</h4>
                        <p><strong>Structural bridging:</strong> Weak ties connect otherwise disconnected groups (local bridges), while strong ties create closed, redundant information networks (forbidden triads).</p>
                    </div>
                </div>
            </div>

            <!-- Core Concepts -->
            <div class="section">
                <h2>üìö Core Theoretical Concepts</h2>

                <div class="grid">
                    <div class="card">
                        <h4>Tie Strength Definition</h4>
                        <p><strong>Definition:</strong> A combination of the amount of time, emotional intensity, intimacy (mutual confiding), and reciprocal services which characterize the tie.</p>
                        <p style="margin-top: 10px;"><strong>Operationalized as:</strong> Frequency of contact</p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li><strong>Strong:</strong> ‚â•2 times per week</li>
                            <li><strong>Moderate:</strong> >1x/year but <2x/week</li>
                            <li><strong>Weak:</strong> ‚â§1 time per year</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>The Forbidden Triad</h4>
                        <p>If person A has strong ties to both B and C, then B and C will almost certainly have a tie to each other (triadic closure). A triad where A-B and A-C are strong but B-C doesn't exist is "forbidden" because it's unstable and rare.</p>
                        <p style="margin-top: 10px;"><strong>Implication:</strong> Strong ties create dense, closed clusters where everyone knows everyone.</p>
                    </div>

                    <div class="card">
                        <h4>Local Bridges</h4>
                        <p><strong>Definition:</strong> A tie between two people that represents the <strong>only path</strong> (or shortest path) connecting their respective social circles.</p>
                        <p style="margin-top: 10px;"><strong>Key insight:</strong> All bridges are weak ties. Strong ties cannot be bridges because the forbidden triad principle ensures redundant paths.</p>
                    </div>

                    <div class="card">
                        <h4>Overlap Principle</h4>
                        <p>The degree of overlap in two individuals' friendship networks varies <strong>directly</strong> with the strength of their tie to one another.</p>
                        <p style="margin-top: 10px;"><strong>Result:</strong> Strong ties = high overlap = redundant information. Weak ties = low overlap = novel information.</p>
                    </div>
                </div>
            </div>

            <!-- Implications -->
            <div class="section">
                <h2>üåç Macro-Level Implications</h2>
                <p>Granovetter's insight connects individual behavior to large-scale social structure:</p>

                <div class="grid">
                    <div class="card">
                        <h4>Information Diffusion</h4>
                        <p>Weak ties are crucial for spreading information across a society. Without them, information would remain trapped in isolated cliques, slowing innovation and social change.</p>
                    </div>

                    <div class="card">
                        <h4>Social Fragmentation</h4>
                        <p>Communities with few weak ties become fragmented into disconnected subgroups. This leads to polarization, miscommunication, and conflict between groups separated by race, class, or geography.</p>
                    </div>

                    <div class="card">
                        <h4>Opportunity & Mobility</h4>
                        <p>Access to opportunities (jobs, resources, ideas) depends on network position. Those with diverse weak ties have systematic advantages over those embedded only in strong-tie networks.</p>
                    </div>

                    <div class="card">
                        <h4>Community Organization</h4>
                        <p>Effective community organizing requires both strong ties (for trust and mobilization) and weak ties (for reaching new people and building coalitions across groups).</p>
                    </div>
                </div>
            </div>

            <!-- Citation & Attribution -->
            <div class="attribution">
                <p><strong>Original Paper:</strong> Granovetter, M. S. (1973). The Strength of Weak Ties. <em>American Journal of Sociology</em>, 78(6), 1360-1380.</p>
                <p style="margin-top: 10px;">
                    <a href="https://doi.org/10.1086/225469" target="_blank">DOI: 10.1086/225469</a> |
                    <a href="https://scholar.google.com/scholar?q=The+Strength+of+Weak+Ties+Granovetter" target="_blank">Google Scholar</a>
                </p>
                <p style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                    Interactive review created for educational purposes. All findings and data from the original publication.
                </p>
            </div>
        </div>
    </div>

    <!-- PROCESS PAGE -->
    <div id="process" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>The Process Model</h1>
                <p class="subtitle">How Weak Ties Create Advantages Through Structural Bridging</p>
            </div>

            <!-- The Process -->
            <div class="section">
                <h2>‚öôÔ∏è The Weak Ties Process Mechanism</h2>
                <p>Granovetter's theory explains a multi-step process by which weak ties provide informational advantages:</p>

                <div class="process-container">
                    <div class="process-step">
                        <div class="process-number">1</div>
                        <div class="process-content">
                            <h4>Network Formation</h4>
                            <p>People naturally form strong ties with close friends and family who share similar backgrounds, interests, and social contexts.</p>
                        </div>
                    </div>

                    <div class="process-arrow">‚Üì</div>

                    <div class="process-step">
                        <div class="process-number">2</div>
                        <div class="process-content">
                            <h4>Triadic Closure Creates Clusters</h4>
                            <p>The "forbidden triad" principle means that when A has strong ties to B and C, B and C will develop a tie. This creates dense, closed clusters of mutual friends.</p>
                        </div>
                    </div>

                    <div class="process-arrow">‚Üì</div>

                    <div class="process-step">
                        <div class="process-number">3</div>
                        <div class="process-content">
                            <h4>Information Redundancy Within Clusters</h4>
                            <p>Because everyone in a strong-tie cluster knows each other (high overlap), they share the same information pool. Information circulates internally but doesn't escape the cluster.</p>
                        </div>
                    </div>

                    <div class="process-arrow">‚Üì</div>

                    <div class="process-step">
                        <div class="process-number">4</div>
                        <div class="process-content">
                            <h4>Weak Ties Act as Bridges</h4>
                            <p>Weak ties (acquaintances, former colleagues) connect to different social clusters. They cannot form redundant paths (no forbidden triads), so they serve as unique bridges.</p>
                        </div>
                    </div>

                    <div class="process-arrow">‚Üì</div>

                    <div class="process-step">
                        <div class="process-number">5</div>
                        <div class="process-content">
                            <h4>Novel Information Access</h4>
                            <p>When seeking information (e.g., job openings), weak ties provide access to knowledge circulating in different social circles‚Äîinformation your close friends don't have.</p>
                        </div>
                    </div>

                    <div class="process-arrow">‚Üì</div>

                    <div class="process-step">
                        <div class="process-number">6</div>
                        <div class="process-content">
                            <h4>Advantage Realization</h4>
                            <p>Individuals with diverse weak-tie bridges gain systematic advantages: more job leads, faster access to innovations, greater influence across groups.</p>
                        </div>
                    </div>
                </div>

                <div class="insight-box">
                    <h3 style="margin-top: 0;">üîë The Core Mechanism</h3>
                    <p>The advantage of weak ties comes from their <strong>structural position</strong> in the network, not from the relationship itself. Weak ties provide access to <strong>non-redundant information</strong> because they bridge <strong>otherwise disconnected social clusters</strong>. Strong ties, despite being emotionally closer, provide <strong>redundant information</strong> because triadic closure creates overlap in what everyone already knows.</p>
                </div>
            </div>

            <!-- Visual Network Comparison -->
            <div class="section">
                <h2>üï∏Ô∏è Visual Comparison: Strong vs. Weak Tie Networks</h2>

                <div class="grid">
                    <div class="card">
                        <h4>Strong Tie Network (Closed Cluster)</h4>
                        <div class="network-container">
                            <svg class="network-svg" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
                                <!-- Dense cluster with all connections -->
                                <line x1="150" y1="100" x2="100" y2="150" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="150" y1="100" x2="200" y2="150" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="150" y1="100" x2="150" y2="200" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="100" y1="150" x2="200" y2="150" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="100" y1="150" x2="150" y2="200" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="200" y1="150" x2="150" y2="200" stroke="#e74c3c" stroke-width="4"/>

                                <!-- Nodes -->
                                <circle cx="150" cy="100" r="15" fill="#c0392b"/>
                                <circle cx="100" cy="150" r="15" fill="#c0392b"/>
                                <circle cx="200" cy="150" r="15" fill="#c0392b"/>
                                <circle cx="150" cy="200" r="15" fill="#c0392b"/>

                                <!-- Labels -->
                                <text x="150" y="105" text-anchor="middle" fill="white" font-size="12" font-weight="bold">YOU</text>
                                <text x="100" y="155" text-anchor="middle" fill="white" font-size="12" font-weight="bold">A</text>
                                <text x="200" y="155" text-anchor="middle" fill="white" font-size="12" font-weight="bold">B</text>
                                <text x="150" y="205" text-anchor="middle" fill="white" font-size="12" font-weight="bold">C</text>
                            </svg>
                        </div>
                        <p style="margin-top: 15px;"><strong>High Redundancy:</strong> Everyone knows everyone. Information circulates but doesn't escape. Triadic closure ensures all possible connections exist.</p>
                    </div>

                    <div class="card">
                        <h4>Weak Tie Network (Bridges)</h4>
                        <div class="network-container">
                            <svg class="network-svg" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                                <!-- Left cluster -->
                                <line x1="80" y1="150" x2="50" y2="100" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="80" y1="150" x2="50" y2="200" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="50" y1="100" x2="50" y2="200" stroke="#e74c3c" stroke-width="4"/>

                                <!-- Bridge (weak tie) -->
                                <line x1="80" y1="150" x2="200" y2="150" stroke="#27ae60" stroke-width="3" stroke-dasharray="5,5"/>

                                <!-- Right cluster -->
                                <line x1="200" y1="150" x2="280" y2="100" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="200" y1="150" x2="280" y2="200" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="280" y1="100" x2="280" y2="200" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="200" y1="150" x2="350" y2="150" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="280" y1="100" x2="350" y2="150" stroke="#e74c3c" stroke-width="4"/>
                                <line x1="280" y1="200" x2="350" y2="150" stroke="#e74c3c" stroke-width="4"/>

                                <!-- Nodes -->
                                <circle cx="80" cy="150" r="15" fill="#c0392b"/>
                                <circle cx="50" cy="100" r="12" fill="#c0392b"/>
                                <circle cx="50" cy="200" r="12" fill="#c0392b"/>
                                <circle cx="200" cy="150" r="15" fill="#27ae60"/>
                                <circle cx="280" cy="100" r="12" fill="#2980b9"/>
                                <circle cx="280" cy="200" r="12" fill="#2980b9"/>
                                <circle cx="350" cy="150" r="12" fill="#2980b9"/>

                                <!-- Labels -->
                                <text x="80" y="155" text-anchor="middle" fill="white" font-size="12" font-weight="bold">YOU</text>
                                <text x="200" y="155" text-anchor="middle" fill="white" font-size="10" font-weight="bold">BRIDGE</text>
                            </svg>
                        </div>
                        <p style="margin-top: 15px;"><strong>Novel Information:</strong> The weak tie (green dashed line) is a bridge between clusters. It provides access to information circulating in a completely different social circle.</p>
                    </div>
                </div>
            </div>

            <!-- Theoretical Propositions -->
            <div class="section">
                <h2>üìú Core Theoretical Propositions</h2>

                <table>
                    <thead>
                        <tr>
                            <th>Proposition</th>
                            <th>Explanation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>P1: Triadic Closure</strong></td>
                            <td>If A-B and A-C are strong ties, a B-C tie will develop. Strong ties lead to transitivity and network closure.</td>
                        </tr>
                        <tr>
                            <td><strong>P2: All Bridges are Weak</strong></td>
                            <td>Because strong ties create triadic closure, they cannot be bridges. Only weak ties can connect otherwise disconnected clusters.</td>
                        </tr>
                        <tr>
                            <td><strong>P3: Overlap Varies with Strength</strong></td>
                            <td>The proportion of A's friends who are also B's friends increases with the strength of the A-B tie.</td>
                        </tr>
                        <tr>
                            <td><strong>P4: Information Advantage</strong></td>
                            <td>Individuals with more weak-tie bridges have access to more diverse, non-redundant information.</td>
                        </tr>
                        <tr>
                            <td><strong>P5: Macro Integration</strong></td>
                            <td>Networks lacking weak ties fragment into isolated clusters, reducing overall social cohesion and information diffusion.</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Attribution -->
            <div class="attribution">
                <p><strong>Process Model Framework:</strong> This page visualizes the theoretical mechanism proposed by Granovetter (1973)</p>
            </div>
        </div>
    </div>

    <!-- ANALYSIS PAGE -->
    <div id="analysis" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>Empirical Evidence</h1>
                <p class="subtitle">The Job Search Study & Findings</p>
            </div>

            <!-- Methodology -->
            <div class="section">
                <h2>üî¨ Research Methodology</h2>

                <div class="tabs">
                    <button class="tab active" onclick="showMethodTab('sample')">Sample & Design</button>
                    <button class="tab" onclick="showMethodTab('measures')">Measures</button>
                    <button class="tab" onclick="showMethodTab('context')">Historical Context</button>
                </div>

                <div id="sample" class="tab-content active">
                    <h3>Sample Characteristics</h3>
                    <table>
                        <tr>
                            <th>Characteristic</th>
                            <th>Details</th>
                        </tr>
                        <tr>
                            <td><strong>Total Sample Size</strong></td>
                            <td>282 men</td>
                        </tr>
                        <tr>
                            <td><strong>Location</strong></td>
                            <td>Newton, Massachusetts (Boston suburb)</td>
                        </tr>
                        <tr>
                            <td><strong>Occupations</strong></td>
                            <td>Professional, technical, and managerial workers</td>
                        </tr>
                        <tr>
                            <td><strong>Personal Interviews</strong></td>
                            <td>100 respondents (subset of 282)</td>
                        </tr>
                        <tr>
                            <td><strong>Data on Job Contacts</strong></td>
                            <td>54 respondents who found jobs through personal contacts</td>
                        </tr>
                        <tr>
                            <td><strong>Research Method</strong></td>
                            <td>Survey questionnaire + follow-up personal interviews</td>
                        </tr>
                    </table>

                    <div class="insight-box" style="margin-top: 20px;">
                        <p><strong>Study Design:</strong> Granovetter surveyed men who had recently changed jobs, asking them how they found their new position. For those who used personal contacts, he measured the strength of the tie (frequency of contact) between the job-seeker and the person who provided the crucial information.</p>
                    </div>
                </div>

                <div id="measures" class="tab-content">
                    <h3>Measurement of Tie Strength</h3>
                    <p><strong>Key Variable:</strong> Frequency of contact at the time the job information was obtained</p>

                    <table style="margin-top: 20px;">
                        <thead>
                            <tr>
                                <th>Tie Strength</th>
                                <th>Frequency Definition</th>
                                <th>Percentage of Jobs</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Strong</strong></td>
                                <td>Saw contact "often" (‚â•2 times per week)</td>
                                <td><strong>16.7%</strong></td>
                            </tr>
                            <tr>
                                <td><strong>Moderate</strong></td>
                                <td>Saw contact "occasionally" (>1x/year but <2x/week)</td>
                                <td><strong>55.6%</strong></td>
                            </tr>
                            <tr>
                                <td><strong>Weak</strong></td>
                                <td>Saw contact "rarely" (‚â§1 time per year)</td>
                                <td><strong>27.8%</strong></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="key-finding" style="margin-top: 20px;">
                        <strong>Critical Finding:</strong> 83.4% of jobs obtained through personal contacts came from moderate or weak ties. Only 16.7% came from strong ties. This directly contradicted the intuition that close friends are the most helpful in job searches.
                    </div>

                    <h3 style="margin-top: 30px;">Additional Findings</h3>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Those who found jobs through <strong>strong ties</strong> were far more likely to have experienced a period of unemployment between jobs</li>
                        <li>Weak ties were more likely to provide information about job openings in <strong>different companies or industries</strong></li>
                        <li>Information from weak ties was more often described as <strong>"novel"</strong> or <strong>"unexpected"</strong></li>
                        <li>Strong ties tended to provide information the job seeker <strong>already knew</strong> or would have learned anyway</li>
                    </ul>
                </div>

                <div id="context" class="tab-content">
                    <h3>Historical Context & Publication</h3>

                    <div class="card">
                        <h4>Publication Journey</h4>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li><strong>1969:</strong> Initially submitted to the <em>American Sociological Review</em> and rejected</li>
                            <li><strong>1973:</strong> Published in the <em>American Journal of Sociology</em>, Vol. 78, No. 6, pp. 1360-1380</li>
                            <li><strong>Impact:</strong> Became one of the most cited papers in sociology and formed the foundation for modern social network analysis</li>
                        </ul>
                    </div>

                    <div class="card" style="margin-top: 20px;">
                        <h4>Theoretical Innovation</h4>
                        <p>Before Granovetter, social network research focused primarily on strong ties and cohesive groups. The idea that <strong>weak ties could be more valuable</strong> was counterintuitive and revolutionary.</p>
                        <p style="margin-top: 10px;">Granovetter's key insight was to focus on the <strong>structure</strong> of networks rather than just the quality of individual relationships. He showed that your <strong>position</strong> in a network (whether you bridge clusters) matters more than the strength of any single relationship.</p>
                    </div>

                    <div class="card" style="margin-top: 20px;">
                        <h4>Modern Validation</h4>
                        <p>A 2022 LinkedIn study with <strong>20 million users</strong> over 5 years‚Äîthe largest empirical test of weak tie theory in history‚Äîconfirmed Granovetter's hypothesis: weak ties were the most helpful for career advancement and job transitions.</p>
                    </div>
                </div>
            </div>

            <!-- Detailed Results -->
            <div class="section">
                <h2>üìà Detailed Results Breakdown</h2>

                <h3>Distribution of Job Finding Methods</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Count (N=54 with contact data)</th>
                            <th>Percentage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Strong Ties</strong> (‚â•2x/week)</td>
                            <td>9</td>
                            <td><strong>16.7%</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Moderate Ties</strong> (Occasional)</td>
                            <td>30</td>
                            <td><strong>55.6%</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Weak Ties</strong> (‚â§1x/year)</td>
                            <td>15</td>
                            <td><strong>27.8%</strong></td>
                        </tr>
                    </tbody>
                </table>

                <div class="key-finding" style="margin-top: 30px;">
                    <strong>üìä Statistical Insight:</strong> If job information were distributed randomly across all contacts, we would expect strong ties to provide more leads (simply because people interact with them more often). Instead, the data showed the <em>opposite</em>: weak ties provided disproportionately more useful information relative to interaction frequency.
                </div>
            </div>

            <!-- Qualitative Insights -->
            <div class="section">
                <h2>üí¨ Qualitative Insights from Interviews</h2>

                <div class="grid">
                    <div class="card">
                        <h4>Nature of Information from Weak Ties</h4>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>Job leads in different industries or companies</li>
                            <li>Information the respondent "would never have heard otherwise"</li>
                            <li>Contacts to people outside respondent's usual circle</li>
                            <li>Opportunities that required "being in the right place at the right time"</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>Nature of Information from Strong Ties</h4>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>Information respondent already knew</li>
                            <li>Opportunities in same company or industry</li>
                            <li>Redundant with other sources</li>
                            <li>Emotional support but less novel information</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>Why Weak Ties Were More Effective</h4>
                        <p><strong>1. Different Social Circles:</strong> Weak ties connected respondents to people with different employers, industries, and professional networks.</p>
                        <p style="margin-top: 10px;"><strong>2. Non-Redundant Information:</strong> Because weak ties don't share the same friendship networks, their information didn't overlap with what the job seeker already knew.</p>
                    </div>

                    <div class="card">
                        <h4>The Role of Moderate Ties</h4>
                        <p>The majority (55.6%) came from <strong>moderate ties</strong>‚Äîpeople seen "occasionally." These are the sweet spot: still recent enough to remember you and willing to help, but distant enough to have access to different information.</p>
                    </div>
                </div>
            </div>

            <!-- Implications -->
            <div class="section">
                <h2>üéØ Practical Implications</h2>

                <div class="insight-box">
                    <h3 style="margin-top: 0;">For Job Seekers</h3>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li><strong>Don't just rely on close friends:</strong> They likely know the same opportunities you do</li>
                        <li><strong>Reconnect with old acquaintances:</strong> Former colleagues, classmates, and distant contacts have access to different information</li>
                        <li><strong>Diversify your network:</strong> Seek contacts in different industries, companies, and geographic areas</li>
                        <li><strong>Maintain weak ties:</strong> Occasional check-ins with distant contacts can pay dividends</li>
                    </ul>
                </div>

                <div class="insight-box">
                    <h3 style="margin-top: 0;">For Organizations</h3>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li><strong>Employee referral programs:</strong> Encourage employees to reach beyond their immediate circles</li>
                        <li><strong>Cross-functional collaboration:</strong> Create opportunities for weak ties to form across departments</li>
                        <li><strong>Alumni networks:</strong> Maintain connections with former employees who now work elsewhere</li>
                        <li><strong>Information diffusion:</strong> Recognize that innovation spreads through weak ties, not just formal channels</li>
                    </ul>
                </div>
            </div>

            <!-- Attribution -->
            <div class="attribution">
                <p><strong>Data Source:</strong> All statistics and findings from Granovetter (1973), American Journal of Sociology</p>
            </div>
        </div>
    </div>

    <!-- INTERACTIVE TOOLS PAGE -->
    <div id="interactive" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>üéÆ Interactive Network Simulator</h1>
                <p class="subtitle">Build and Analyze Your Own Networks</p>
                <p class="subtitle">Commercial BI-Quality Tool</p>
            </div>

            <!-- Interactive Network Simulator -->
            <div class="section">
                <h2>üï∏Ô∏è Network Builder & Analyzer</h2>
                <p>Create your own networks and watch the metrics update in real-time. Understand the power of weak ties by building different network structures.</p>

                <div class="network-simulator">
                    <!-- Controls -->
                    <div class="simulator-controls">
                        <h3 style="width: 100%; margin: 0 0 15px 0; font-size: 1.1em;">Controls:</h3>

                        <button id="draw-mode-btn" class="control-btn" onclick="NetworkSimulator.toggleDrawMode()">
                            ‚úèÔ∏è Enable Drawing Mode
                        </button>

                        <button id="edge-weak" class="control-btn edge-type-btn active" onclick="NetworkSimulator.setEdgeType('weak')">
                            Weak Tie
                        </button>

                        <button id="edge-strong" class="control-btn edge-type-btn" onclick="NetworkSimulator.setEdgeType('strong')">
                            Strong Tie
                        </button>

                        <button class="control-btn secondary" onclick="NetworkSimulator.removeSelectedNode()">
                            üóëÔ∏è Delete Selected
                        </button>

                        <button class="control-btn danger" onclick="NetworkSimulator.clearNetwork()">
                            ‚ö†Ô∏è Clear All
                        </button>
                    </div>

                    <div class="preset-buttons" style="margin-bottom: 20px;">
                        <h4 style="width: 100%; margin: 0 0 12px 0; font-size: 1em; font-weight: 600;">Load Preset Networks:</h4>
                        <button class="preset-btn" onclick="NetworkSimulator.loadPresetNetwork('basic')">
                            üìç Basic (Strong Ties Only)
                        </button>
                        <button class="preset-btn" onclick="NetworkSimulator.loadPresetNetwork('bridges')">
                            üåâ Weak Tie Bridges
                        </button>
                        <button class="preset-btn" onclick="NetworkSimulator.loadPresetNetwork('realistic')">
                            üåê Realistic Mixed Network
                        </button>
                    </div>

                    <!-- Canvas -->
                    <canvas id="networkCanvas"></canvas>

                    <!-- Legend -->
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-line strong"></div>
                            <span>Strong Tie (close friend, frequent contact)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line weak"></div>
                            <span>Weak Tie (acquaintance, occasional contact)</span>
                        </div>
                        <div class="legend-item">
                            <span style="display: inline-block; width: 20px; height: 20px; border-radius: 50%; background: #1e3c72; border: 2px solid white;"></span>
                            <span>Person (drag to move)</span>
                        </div>
                    </div>

                    <!-- Help Text -->
                    <div class="help-text">
                        <strong>üéØ How to use:</strong>
                        <ul style="margin: 10px 0 0 20px; line-height: 1.8;">
                            <li><strong>Load presets:</strong> Click the preset buttons above to instantly load example networks</li>
                            <li><strong>Add a person:</strong> Double-click anywhere on the canvas</li>
                            <li><strong>Move a person:</strong> Click and drag any node (when drawing mode is OFF)</li>
                            <li><strong>Add a connection:</strong>
                                <ol style="margin-left: 20px; margin-top: 5px;">
                                    <li>Click "Enable Drawing Mode" button</li>
                                    <li>Choose tie type (Weak Tie or Strong Tie)</li>
                                    <li>Click the first person</li>
                                    <li>Click the second person to create the connection</li>
                                </ol>
                            </li>
                            <li><strong>Delete a person:</strong> Turn off drawing mode, click to select (yellow glow), then click "Delete Selected"</li>
                            <li><strong>Clear everything:</strong> Click "Clear All" to start fresh</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Real-Time Network Metrics -->
            <div class="section">
                <h2>üìä Network Metrics Dashboard</h2>
                <p>These metrics update in real-time as you modify the network. Watch how weak ties, bridges, and clustering change your network's structure.</p>

                <div style="text-align: center; margin: 20px 0;">
                    <h3 style="margin-bottom: 10px;">Network Quality Score</h3>
                    <span id="network-quality" class="quality-badge" style="background: #64748b;">Waiting for data...</span>
                    <p style="margin-top: 10px; font-size: 0.9em; color: #64748b;">Based on weak tie ratio, bridges, and clustering coefficient</p>
                </div>

                <div class="network-metrics">
                    <div class="metric-card">
                        <div class="metric-label">People</div>
                        <div class="metric-value" id="metric-nodes">0</div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-label">Connections</div>
                        <div class="metric-value" id="metric-edges">0</div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-label">Network Density</div>
                        <div class="metric-value" id="metric-density">0%</div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-label">Avg. Connections</div>
                        <div class="metric-value" id="metric-avgdegree">0</div>
                    </div>

                    <div class="metric-card" style="border-left-color: #1e3c72;">
                        <div class="metric-label">Strong Ties</div>
                        <div class="metric-value" id="metric-strong">0%</div>
                    </div>

                    <div class="metric-card" style="border-left-color: #94a3b8;">
                        <div class="metric-label">Weak Ties</div>
                        <div class="metric-value" id="metric-weak">0%</div>
                    </div>

                    <div class="metric-card" style="border-left-color: #10b981;">
                        <div class="metric-label">Bridges</div>
                        <div class="metric-value" id="metric-bridges">0</div>
                    </div>

                    <div class="metric-card" style="border-left-color: #f59e0b;">
                        <div class="metric-label">Clustering</div>
                        <div class="metric-value" id="metric-clustering">0%</div>
                    </div>
                </div>

                <div class="insight-box" style="margin-top: 30px;">
                    <h3 style="margin-top: 0;">üí° Understanding the Metrics</h3>
                    <div class="grid">
                        <div class="card">
                            <h4>Network Density</h4>
                            <p>Percentage of all possible connections that actually exist. Higher density = more interconnected, but potentially more redundant information.</p>
                        </div>
                        <div class="card">
                            <h4>Bridges</h4>
                            <p>Weak ties that are the only connection between two groups. These are critical for information flow and are Granovetter's key insight!</p>
                        </div>
                        <div class="card">
                            <h4>Clustering Coefficient</h4>
                            <p>Measures how much your friends are also friends with each other. High clustering = closed triads (strong ties), low clustering = diverse, spread-out network.</p>
                        </div>
                        <div class="card">
                            <h4>Weak Tie Ratio</h4>
                            <p>According to Granovetter's findings, the optimal network has a good balance of weak ties (40%+) to access novel information.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Comparison & Analysis -->
            <div class="section">
                <h2>üî¨ Compare Network Structures</h2>
                <p>Try building these different network types and see how the metrics change:</p>

                <div class="grid">
                    <div class="card">
                        <h4>All Strong Ties (Closed Cluster)</h4>
                        <p><strong>Characteristics:</strong></p>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>High clustering (70-100%)</li>
                            <li>High density</li>
                            <li>Zero bridges</li>
                            <li>All strong ties (100%)</li>
                        </ul>
                        <p style="margin-top: 10px;"><strong>Result:</strong> Information redundancy, limited novel information access.</p>
                    </div>

                    <div class="card">
                        <h4>Weak Tie Bridges</h4>
                        <p><strong>Characteristics:</strong></p>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>Low to moderate clustering (20-40%)</li>
                            <li>Lower density</li>
                            <li>Multiple bridges (3+)</li>
                            <li>High weak tie ratio (50%+)</li>
                        </ul>
                        <p style="margin-top: 10px;"><strong>Result:</strong> Access to diverse, non-redundant information.</p>
                    </div>

                    <div class="card">
                        <h4>Realistic Mixed Network</h4>
                        <p><strong>Characteristics:</strong></p>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>Moderate clustering (40-60%)</li>
                            <li>Moderate density</li>
                            <li>Some bridges (1-3)</li>
                            <li>Mixed ties (30-50% weak)</li>
                        </ul>
                        <p style="margin-top: 10px;"><strong>Result:</strong> Balance of trust (strong ties) and opportunity (weak ties).</p>
                    </div>
                </div>

                <div class="key-finding" style="margin-top: 30px;">
                    <strong>üéØ Granovetter's Insight:</strong> In real job searches, 83.4% of successful job leads came from weak or moderate ties, not strong ties. Build a network with bridges to access opportunities you wouldn't otherwise hear about!
                </div>
            </div>

            <!-- Job Search Probability Calculator -->
            <div class="section">
                <h2>üé≤ Job Search Probability Calculator</h2>
                <p>Based on Granovetter's empirical findings, calculate your likelihood of finding a job through different types of contacts.</p>

                <div style="background: #f8f9fa; padding: 30px; border-radius: 15px; margin-top: 25px;">

                    <!-- Empirical Baseline Display -->
                    <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 30px; border-left: 5px solid #2a5298;">
                        <h3 style="margin-top: 0; color: #1e3c72; font-size: 1.3em;">üìä Granovetter's Study Results (N=54)</h3>
                        <p style="margin-bottom: 20px; color: #64748b;">Percentage of jobs found through each tie type:</p>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; border-radius: 10px;">
                                <div style="font-size: 2.5em; font-weight: bold;">16.7%</div>
                                <div style="font-size: 1.1em; margin-top: 5px;">Strong Ties</div>
                                <div style="font-size: 0.85em; opacity: 0.9; margin-top: 5px;">Saw often (‚â•2x/week)</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white; border-radius: 10px;">
                                <div style="font-size: 2.5em; font-weight: bold;">55.6%</div>
                                <div style="font-size: 1.1em; margin-top: 5px;">Moderate Ties</div>
                                <div style="font-size: 0.85em; opacity: 0.9; margin-top: 5px;">Saw occasionally</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); color: white; border-radius: 10px;">
                                <div style="font-size: 2.5em; font-weight: bold;">27.8%</div>
                                <div style="font-size: 1.1em; margin-top: 5px;">Weak Ties</div>
                                <div style="font-size: 0.85em; opacity: 0.9; margin-top: 5px;">Saw rarely (‚â§1x/year)</div>
                            </div>
                        </div>
                    </div>

                    <!-- User Input Section -->
                    <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
                        <h3 style="margin-top: 0; color: #1e3c72; font-size: 1.3em;">üéØ Your Network Composition</h3>
                        <p style="margin-bottom: 25px; color: #64748b;">Adjust the sliders to match your network. They auto-normalize to 100%.</p>

                        <!-- Strong Ties Slider -->
                        <div style="margin-bottom: 25px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <label style="font-weight: 600; color: #1e3c72;">Strong Ties (Close friends, family):</label>
                                <span id="strong-value" style="font-size: 1.3em; font-weight: bold; color: #e74c3c; min-width: 60px; text-align: right;">33%</span>
                            </div>
                            <input type="range" id="strong-slider" min="0" max="100" value="33"
                                   style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: linear-gradient(to right, #e74c3c 0%, #e74c3c 33%, #e0e6ed 33%, #e0e6ed 100%);"
                                   oninput="JobSearchCalculator.updateSlider('strong', this.value)">
                        </div>

                        <!-- Moderate Ties Slider -->
                        <div style="margin-bottom: 25px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <label style="font-weight: 600; color: #1e3c72;">Moderate Ties (Acquaintances):</label>
                                <span id="moderate-value" style="font-size: 1.3em; font-weight: bold; color: #3498db; min-width: 60px; text-align: right;">34%</span>
                            </div>
                            <input type="range" id="moderate-slider" min="0" max="100" value="34"
                                   style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: linear-gradient(to right, #3498db 0%, #3498db 34%, #e0e6ed 34%, #e0e6ed 100%);"
                                   oninput="JobSearchCalculator.updateSlider('moderate', this.value)">
                        </div>

                        <!-- Weak Ties Slider -->
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <label style="font-weight: 600; color: #1e3c72;">Weak Ties (Distant contacts):</label>
                                <span id="weak-value" style="font-size: 1.3em; font-weight: bold; color: #2ecc71; min-width: 60px; text-align: right;">33%</span>
                            </div>
                            <input type="range" id="weak-slider" min="0" max="100" value="33"
                                   style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: linear-gradient(to right, #2ecc71 0%, #2ecc71 33%, #e0e6ed 33%, #e0e6ed 100%);"
                                   oninput="JobSearchCalculator.updateSlider('weak', this.value)">
                        </div>

                        <div style="text-align: center; padding: 12px; background: #f8f9fa; border-radius: 8px; margin-top: 15px;">
                            <strong>Total:</strong> <span id="total-percentage" style="font-size: 1.2em; font-weight: bold; color: #1e3c72;">100%</span>
                        </div>
                    </div>

                    <!-- Results Display -->
                    <div style="background: white; padding: 25px; border-radius: 12px;">
                        <h3 style="margin-top: 0; color: #1e3c72; font-size: 1.3em;">üìà Your Job Search Success Probability</h3>

                        <!-- Probability Meter -->
                        <div style="margin: 25px 0;">
                            <div style="text-align: center; margin-bottom: 15px;">
                                <div id="success-probability" style="font-size: 3.5em; font-weight: bold; color: #10b981;">100%</div>
                                <div style="font-size: 1.1em; color: #64748b;">Relative Success Rate</div>
                            </div>

                            <div style="background: #e0e6ed; height: 40px; border-radius: 20px; overflow: hidden; position: relative;">
                                <div id="probability-bar" style="background: linear-gradient(90deg, #10b981 0%, #059669 100%); height: 100%; width: 100%; transition: width 0.3s ease, background 0.3s ease; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.1em;">
                                    Excellent
                                </div>
                            </div>
                        </div>

                        <!-- Comparison -->
                        <div id="comparison-result" style="margin-top: 25px; padding: 20px; background: #f0f9ff; border-left: 4px solid #3b82f6; border-radius: 8px;">
                            <strong style="color: #1e3c72;">üí° Analysis:</strong>
                            <p id="comparison-text" style="margin-top: 10px; line-height: 1.8; color: #334155;">
                                Your network composition matches the study average perfectly.
                            </p>
                        </div>

                        <!-- Breakdown -->
                        <div style="margin-top: 25px;">
                            <h4 style="color: #1e3c72; margin-bottom: 15px;">Expected Job Leads by Source:</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px;">
                                <div style="padding: 15px; background: #fef2f2; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 0.85em; color: #991b1b; margin-bottom: 5px;">From Strong Ties</div>
                                    <div id="strong-leads" style="font-size: 1.8em; font-weight: bold; color: #dc2626;">17%</div>
                                </div>
                                <div style="padding: 15px; background: #eff6ff; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 0.85em; color: #1e40af; margin-bottom: 5px;">From Moderate Ties</div>
                                    <div id="moderate-leads" style="font-size: 1.8em; font-weight: bold; color: #2563eb;">56%</div>
                                </div>
                                <div style="padding: 15px; background: #f0fdf4; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 0.85em; color: #166534; margin-bottom: 5px;">From Weak Ties</div>
                                    <div id="weak-leads" style="font-size: 1.8em; font-weight: bold; color: #16a34a;">28%</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="help-text" style="margin-top: 20px;">
                    <strong>üí° How to interpret:</strong> This calculator uses Granovetter's empirical data showing that weak and moderate ties were significantly more helpful than strong ties. A higher percentage of weak/moderate ties generally leads to more diverse job opportunities.
                </div>
            </div>

            <!-- Attribution -->
            <div class="attribution">
                <p><strong>Interactive Tool:</strong> Based on network analysis principles from Granovetter (1973)</p>
                <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.8;">All calculations use graph theory algorithms to measure real network properties</p>
            </div>
        </div>
    </div>

    <script>
        // Page Switching
        function switchPage(pageId, button) {
            // Hide all pages
            document.getElementById('main').style.display = 'none';
            document.getElementById('process').style.display = 'none';
            document.getElementById('analysis').style.display = 'none';
            document.getElementById('interactive').style.display = 'none';

            // Show selected page
            document.getElementById(pageId).style.display = 'block';

            // Update active button
            const buttons = document.querySelectorAll('.page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            // Initialize simulator if switching to interactive page
            if (pageId === 'interactive' && !NetworkSimulator.canvas) {
                setTimeout(() => NetworkSimulator.init(), 100);
            }

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Tab Switching for Methodology
        function showMethodTab(tabId) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected tab
            document.getElementById(tabId).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Dark Mode Toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const button = document.querySelector('.dark-mode-toggle');
            if (document.body.classList.contains('dark-mode')) {
                button.textContent = '‚òÄÔ∏è Light Mode';
            } else {
                button.textContent = 'üåô Dark Mode';
            }
        }

        // ========================================
        // INTERACTIVE NETWORK SIMULATOR
        // Commercial BI-Quality Tool
        // ========================================

        const NetworkSimulator = {
            nodes: [],
            edges: [],
            selectedNode: null,
            draggedNode: null,
            canvas: null,
            ctx: null,
            isDrawingMode: false,
            tempEdgeStart: null,
            edgeType: 'weak', // 'weak' or 'strong'
            nodeIdCounter: 0,

            init() {
                this.canvas = document.getElementById('networkCanvas');
                if (!this.canvas) return;

                this.ctx = this.canvas.getContext('2d');
                this.setupCanvas();
                this.setupEventListeners();
                this.loadPresetNetwork('basic');

                // Force initial render
                setTimeout(() => {
                    this.setupCanvas();
                    this.render();
                }, 50);
            },

            setupCanvas() {
                const rect = this.canvas.getBoundingClientRect();
                // Ensure canvas has minimum dimensions
                this.canvas.width = rect.width > 0 ? rect.width : 800;
                this.canvas.height = rect.height > 0 ? rect.height : 600;
                this.render();
            },

            setupEventListeners() {
                this.canvas.addEventListener('mousedown', this.handleMouseDown.bind(this));
                this.canvas.addEventListener('mousemove', this.handleMouseMove.bind(this));
                this.canvas.addEventListener('mouseup', this.handleMouseUp.bind(this));
                this.canvas.addEventListener('dblclick', this.handleDoubleClick.bind(this));

                window.addEventListener('resize', () => {
                    this.setupCanvas();
                });
            },

            handleMouseDown(e) {
                const pos = this.getMousePos(e);
                const clickedNode = this.getNodeAtPosition(pos.x, pos.y);

                if (this.isDrawingMode) {
                    if (clickedNode) {
                        if (!this.tempEdgeStart) {
                            // First click - select starting node
                            this.tempEdgeStart = clickedNode;
                            this.selectedNode = clickedNode;
                            this.canvas.style.cursor = 'crosshair';
                            console.log('Selected start node:', clickedNode.label);
                        } else {
                            // Second click - create edge
                            if (clickedNode !== this.tempEdgeStart) {
                                this.addEdge(this.tempEdgeStart, clickedNode, this.edgeType);
                                console.log('Created edge:', this.tempEdgeStart.label, '->', clickedNode.label);
                            }
                            this.tempEdgeStart = null;
                            this.selectedNode = null;
                        }
                    } else {
                        // Clicked empty space - cancel edge drawing
                        this.tempEdgeStart = null;
                        this.selectedNode = null;
                    }
                } else {
                    if (clickedNode) {
                        this.draggedNode = clickedNode;
                        this.selectedNode = clickedNode;
                        this.canvas.style.cursor = 'grabbing';
                    } else {
                        this.selectedNode = null;
                    }
                }
                this.render();
            },

            handleMouseMove(e) {
                const pos = this.getMousePos(e);

                if (this.draggedNode && !this.isDrawingMode) {
                    // Only allow dragging when not in drawing mode
                    this.draggedNode.x = pos.x;
                    this.draggedNode.y = pos.y;
                    this.render();
                } else if (this.tempEdgeStart && this.isDrawingMode) {
                    // Draw temporary edge line when in drawing mode
                    this.render();
                    this.ctx.save();
                    this.ctx.beginPath();
                    this.ctx.moveTo(this.tempEdgeStart.x, this.tempEdgeStart.y);
                    this.ctx.lineTo(pos.x, pos.y);
                    this.ctx.strokeStyle = this.edgeType === 'strong' ? '#1e3c72' : '#94a3b8';
                    this.ctx.lineWidth = this.edgeType === 'strong' ? 4 : 2;
                    if (this.edgeType === 'weak') {
                        this.ctx.setLineDash([5, 5]);
                    }
                    this.ctx.stroke();
                    this.ctx.restore();
                } else {
                    // Update cursor based on hover and mode
                    const hoverNode = this.getNodeAtPosition(pos.x, pos.y);
                    if (this.isDrawingMode) {
                        this.canvas.style.cursor = hoverNode ? 'pointer' : 'crosshair';
                    } else {
                        this.canvas.style.cursor = hoverNode ? 'move' : 'default';
                    }
                }
            },

            handleMouseUp(e) {
                // Only handle drag completion, edge creation is in handleMouseDown
                if (this.draggedNode) {
                    this.draggedNode = null;
                    this.updateMetrics();
                }

                // Reset cursor based on mode
                if (this.isDrawingMode) {
                    this.canvas.style.cursor = 'crosshair';
                } else {
                    this.canvas.style.cursor = 'default';
                }

                this.render();
            },

            handleDoubleClick(e) {
                const pos = this.getMousePos(e);
                const clickedNode = this.getNodeAtPosition(pos.x, pos.y);

                if (!clickedNode) {
                    this.addNode(pos.x, pos.y);
                }
            },

            getMousePos(e) {
                const rect = this.canvas.getBoundingClientRect();
                return {
                    x: e.clientX - rect.left,
                    y: e.clientY - rect.top
                };
            },

            getNodeAtPosition(x, y) {
                return this.nodes.find(node => {
                    const dx = node.x - x;
                    const dy = node.y - y;
                    return Math.sqrt(dx * dx + dy * dy) < node.radius;
                });
            },

            addNode(x, y, label = null) {
                const node = {
                    id: this.nodeIdCounter++,
                    x: x,
                    y: y,
                    radius: 20,
                    label: label || `P${this.nodeIdCounter}`,
                    color: '#1e3c72'
                };
                this.nodes.push(node);
                this.render();
                this.updateMetrics();
            },

            addEdge(node1, node2, type = 'weak') {
                // Check if edge already exists
                const exists = this.edges.some(e =>
                    (e.from === node1 && e.to === node2) ||
                    (e.from === node2 && e.to === node1)
                );

                if (!exists) {
                    this.edges.push({
                        from: node1,
                        to: node2,
                        type: type,
                        strength: type === 'strong' ? 1 : 0.3
                    });
                    this.render();
                    this.updateMetrics();
                }
            },

            removeSelectedNode() {
                if (this.selectedNode) {
                    // Remove all edges connected to this node
                    this.edges = this.edges.filter(e =>
                        e.from !== this.selectedNode && e.to !== this.selectedNode
                    );
                    // Remove the node
                    this.nodes = this.nodes.filter(n => n !== this.selectedNode);
                    this.selectedNode = null;
                    this.render();
                    this.updateMetrics();
                }
            },

            clearNetwork() {
                this.nodes = [];
                this.edges = [];
                this.selectedNode = null;
                this.draggedNode = null;
                this.tempEdgeStart = null;
                this.nodeIdCounter = 0;
                this.render();
                this.updateMetrics();
            },

            loadPresetNetwork(type) {
                this.clearNetwork();

                // Ensure canvas is properly sized before creating network
                this.setupCanvas();

                const w = this.canvas.width;
                const h = this.canvas.height;
                const centerX = w / 2;
                const centerY = h / 2;

                if (type === 'basic') {
                    // You (center) with 3 close friends (strong ties)
                    this.addNode(centerX, centerY, 'YOU');
                    this.addNode(centerX - 120, centerY - 80, 'Friend A');
                    this.addNode(centerX + 120, centerY - 80, 'Friend B');
                    this.addNode(centerX, centerY + 120, 'Friend C');

                    // Strong ties
                    this.addEdge(this.nodes[0], this.nodes[1], 'strong');
                    this.addEdge(this.nodes[0], this.nodes[2], 'strong');
                    this.addEdge(this.nodes[0], this.nodes[3], 'strong');

                    // Triadic closure
                    this.addEdge(this.nodes[1], this.nodes[2], 'strong');
                    this.addEdge(this.nodes[2], this.nodes[3], 'strong');
                }

                if (type === 'bridges') {
                    // Left cluster
                    this.addNode(150, centerY, 'YOU');
                    this.addNode(100, centerY - 80, 'A1');
                    this.addNode(100, centerY + 80, 'A2');

                    // Strong ties in left cluster
                    this.addEdge(this.nodes[0], this.nodes[1], 'strong');
                    this.addEdge(this.nodes[0], this.nodes[2], 'strong');
                    this.addEdge(this.nodes[1], this.nodes[2], 'strong');

                    // Bridge person
                    this.addNode(centerX + 100, centerY, 'Bridge');
                    this.addEdge(this.nodes[0], this.nodes[3], 'weak');

                    // Right cluster
                    this.addNode(w - 150, centerY - 80, 'B1');
                    this.addNode(w - 150, centerY + 80, 'B2');
                    this.addNode(w - 100, centerY, 'B3');

                    // Strong ties in right cluster
                    this.addEdge(this.nodes[3], this.nodes[4], 'strong');
                    this.addEdge(this.nodes[3], this.nodes[5], 'strong');
                    this.addEdge(this.nodes[4], this.nodes[6], 'strong');
                    this.addEdge(this.nodes[5], this.nodes[6], 'strong');
                }

                if (type === 'realistic') {
                    // Create a realistic mixed network
                    const positions = [
                        {x: centerX, y: centerY, label: 'YOU'},
                        // Close circle (strong ties)
                        {x: centerX - 100, y: centerY - 60, label: 'Family'},
                        {x: centerX + 100, y: centerY - 60, label: 'Best Friend'},
                        {x: centerX - 80, y: centerY + 80, label: 'Colleague'},
                        // Weak ties (bridges)
                        {x: 120, y: 150, label: 'Former Classmate'},
                        {x: w - 120, y: 150, label: 'Industry Contact'},
                        {x: 120, y: h - 120, label: 'Neighbor'},
                        {x: w - 120, y: h - 120, label: 'Acquaintance'},
                        // Extended network
                        {x: 80, y: 300, label: 'Friend of Friend'},
                        {x: w - 80, y: 300, label: 'LinkedIn Connection'}
                    ];

                    positions.forEach(p => this.addNode(p.x, p.y, p.label));

                    // Strong ties (close circle)
                    this.addEdge(this.nodes[0], this.nodes[1], 'strong');
                    this.addEdge(this.nodes[0], this.nodes[2], 'strong');
                    this.addEdge(this.nodes[0], this.nodes[3], 'strong');
                    this.addEdge(this.nodes[1], this.nodes[2], 'strong'); // Triadic closure

                    // Weak ties (bridges to other clusters)
                    this.addEdge(this.nodes[0], this.nodes[4], 'weak');
                    this.addEdge(this.nodes[0], this.nodes[5], 'weak');
                    this.addEdge(this.nodes[0], this.nodes[6], 'weak');
                    this.addEdge(this.nodes[0], this.nodes[7], 'weak');

                    // Extended connections
                    this.addEdge(this.nodes[4], this.nodes[8], 'weak');
                    this.addEdge(this.nodes[5], this.nodes[9], 'weak');
                }

                // Force render after loading preset
                setTimeout(() => {
                    this.render();
                    this.updateMetrics();
                }, 10);
            },

            render() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

                // Draw edges first
                this.edges.forEach(edge => {
                    this.drawEdge(edge);
                });

                // Draw nodes on top
                this.nodes.forEach(node => {
                    this.drawNode(node);
                });
            },

            drawEdge(edge) {
                this.ctx.save();
                this.ctx.beginPath();
                this.ctx.moveTo(edge.from.x, edge.from.y);
                this.ctx.lineTo(edge.to.x, edge.to.y);

                if (edge.type === 'strong') {
                    this.ctx.strokeStyle = '#1e3c72';
                    this.ctx.lineWidth = 4;
                    this.ctx.setLineDash([]);
                } else {
                    this.ctx.strokeStyle = '#94a3b8';
                    this.ctx.lineWidth = 2;
                    this.ctx.setLineDash([5, 5]);
                }

                this.ctx.stroke();
                this.ctx.restore();
            },

            drawNode(node) {
                this.ctx.save();

                // Draw selection glow
                if (node === this.selectedNode) {
                    this.ctx.shadowColor = '#fbbf24';
                    this.ctx.shadowBlur = 15;
                }

                // Draw node circle
                this.ctx.beginPath();
                this.ctx.arc(node.x, node.y, node.radius, 0, Math.PI * 2);
                this.ctx.fillStyle = node.color;
                this.ctx.fill();

                // Draw border
                this.ctx.strokeStyle = node === this.selectedNode ? '#fbbf24' : '#fff';
                this.ctx.lineWidth = node === this.selectedNode ? 3 : 2;
                this.ctx.stroke();

                this.ctx.shadowBlur = 0;

                // Draw label
                this.ctx.fillStyle = '#fff';
                this.ctx.font = 'bold 11px -apple-system, sans-serif';
                this.ctx.textAlign = 'center';
                this.ctx.textBaseline = 'middle';
                this.ctx.fillText(node.label, node.x, node.y);

                this.ctx.restore();
            },

            setEdgeType(type) {
                this.edgeType = type;
                // Update button states
                document.querySelectorAll('.edge-type-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.getElementById(`edge-${type}`).classList.add('active');
            },

            toggleDrawMode() {
                this.isDrawingMode = !this.isDrawingMode;
                const btn = document.getElementById('draw-mode-btn');
                if (this.isDrawingMode) {
                    btn.classList.add('active');
                    btn.textContent = '‚úèÔ∏è Drawing Mode (ON)';
                    this.canvas.style.cursor = 'crosshair';
                } else {
                    btn.classList.remove('active');
                    btn.textContent = '‚úèÔ∏è Enable Drawing Mode';
                    this.canvas.style.cursor = 'default';
                }
            },

            // Network Analysis Metrics
            calculateMetrics() {
                const n = this.nodes.length;
                const e = this.edges.length;

                if (n === 0) {
                    return {
                        nodeCount: 0,
                        edgeCount: 0,
                        density: 0,
                        avgDegree: 0,
                        strongTieRatio: 0,
                        weakTieRatio: 0,
                        bridgeCount: 0,
                        clusteringCoefficient: 0
                    };
                }

                const maxPossibleEdges = (n * (n - 1)) / 2;
                const density = maxPossibleEdges > 0 ? e / maxPossibleEdges : 0;
                const avgDegree = n > 0 ? (2 * e) / n : 0;

                const strongTies = this.edges.filter(e => e.type === 'strong').length;
                const weakTies = this.edges.filter(e => e.type === 'weak').length;

                const strongTieRatio = e > 0 ? strongTies / e : 0;
                const weakTieRatio = e > 0 ? weakTies / e : 0;

                const bridgeCount = this.countBridges();
                const clusteringCoefficient = this.calculateClustering();

                return {
                    nodeCount: n,
                    edgeCount: e,
                    density: density,
                    avgDegree: avgDegree,
                    strongTieRatio: strongTieRatio,
                    weakTieRatio: weakTieRatio,
                    bridgeCount: bridgeCount,
                    clusteringCoefficient: clusteringCoefficient
                };
            },

            countBridges() {
                let bridges = 0;

                this.edges.forEach(edge => {
                    // An edge is a bridge if removing it disconnects the graph
                    // Simplified: check if it's the only path between two clusters
                    if (this.isBridge(edge)) {
                        bridges++;
                    }
                });

                return bridges;
            },

            isBridge(edge) {
                // Simplified bridge detection
                // A tie is more likely to be a bridge if it's weak and connects otherwise unconnected groups
                if (edge.type !== 'weak') return false;

                // Check if the two nodes have any common neighbors
                const neighbors1 = this.getNeighbors(edge.from);
                const neighbors2 = this.getNeighbors(edge.to);

                const commonNeighbors = neighbors1.filter(n => neighbors2.includes(n));

                // If they have no common neighbors (except through this edge), it's likely a bridge
                return commonNeighbors.length === 0;
            },

            getNeighbors(node) {
                return this.edges
                    .filter(e => e.from === node || e.to === node)
                    .map(e => e.from === node ? e.to : e.from);
            },

            calculateClustering() {
                if (this.nodes.length < 3) return 0;

                let totalClustering = 0;

                this.nodes.forEach(node => {
                    const neighbors = this.getNeighbors(node);
                    const k = neighbors.length;

                    if (k < 2) return;

                    let actualEdges = 0;
                    for (let i = 0; i < neighbors.length; i++) {
                        for (let j = i + 1; j < neighbors.length; j++) {
                            if (this.areConnected(neighbors[i], neighbors[j])) {
                                actualEdges++;
                            }
                        }
                    }

                    const possibleEdges = (k * (k - 1)) / 2;
                    const clustering = possibleEdges > 0 ? actualEdges / possibleEdges : 0;
                    totalClustering += clustering;
                });

                return totalClustering / this.nodes.length;
            },

            areConnected(node1, node2) {
                return this.edges.some(e =>
                    (e.from === node1 && e.to === node2) ||
                    (e.from === node2 && e.to === node1)
                );
            },

            updateMetrics() {
                const metrics = this.calculateMetrics();

                document.getElementById('metric-nodes').textContent = metrics.nodeCount;
                document.getElementById('metric-edges').textContent = metrics.edgeCount;
                document.getElementById('metric-density').textContent = (metrics.density * 100).toFixed(1) + '%';
                document.getElementById('metric-avgdegree').textContent = metrics.avgDegree.toFixed(1);
                document.getElementById('metric-strong').textContent = (metrics.strongTieRatio * 100).toFixed(0) + '%';
                document.getElementById('metric-weak').textContent = (metrics.weakTieRatio * 100).toFixed(0) + '%';
                document.getElementById('metric-bridges').textContent = metrics.bridgeCount;
                document.getElementById('metric-clustering').textContent = (metrics.clusteringCoefficient * 100).toFixed(1) + '%';

                // Update quality indicator
                this.updateQualityIndicator(metrics);
            },

            updateQualityIndicator(metrics) {
                const indicator = document.getElementById('network-quality');
                if (!indicator) return;

                // Good network: high weak tie ratio, some bridges, moderate clustering
                let score = 0;

                if (metrics.weakTieRatio > 0.4) score += 35;
                else if (metrics.weakTieRatio > 0.2) score += 20;

                if (metrics.bridgeCount > 2) score += 30;
                else if (metrics.bridgeCount > 0) score += 15;

                if (metrics.clusteringCoefficient > 0.3 && metrics.clusteringCoefficient < 0.7) score += 20;
                if (metrics.density > 0.15 && metrics.density < 0.5) score += 15;

                let quality = 'Poor';
                let color = '#ef4444';

                if (score >= 70) {
                    quality = 'Excellent';
                    color = '#10b981';
                } else if (score >= 50) {
                    quality = 'Good';
                    color = '#3b82f6';
                } else if (score >= 30) {
                    quality = 'Fair';
                    color = '#f59e0b';
                }

                indicator.textContent = quality;
                indicator.style.background = color;
            }
        };

        // ========================================
        // JOB SEARCH PROBABILITY CALCULATOR
        // ========================================

        const JobSearchCalculator = {
            // Empirical data from Granovetter (1973)
            baseline: {
                strong: 0.167,    // 16.7%
                moderate: 0.556,  // 55.6%
                weak: 0.278       // 27.8%
            },

            values: {
                strong: 33,
                moderate: 34,
                weak: 33
            },

            init() {
                this.calculate();
            },

            updateSlider(type, value) {
                const numValue = parseInt(value);
                this.values[type] = numValue;

                // Auto-normalize to 100%
                this.normalize(type);

                // Update UI
                this.updateSliderUI();

                // Recalculate
                this.calculate();
            },

            normalize(changedType) {
                const total = this.values.strong + this.values.moderate + this.values.weak;

                if (total === 0) {
                    // Reset to equal distribution
                    this.values.strong = 33;
                    this.values.moderate = 34;
                    this.values.weak = 33;
                    return;
                }

                if (total !== 100) {
                    // Proportionally adjust the other two
                    const others = total - this.values[changedType];
                    if (others > 0) {
                        const types = ['strong', 'moderate', 'weak'].filter(t => t !== changedType);
                        const ratio1 = this.values[types[0]] / others;
                        const ratio2 = this.values[types[1]] / others;

                        const remaining = 100 - this.values[changedType];
                        this.values[types[0]] = Math.round(remaining * ratio1);
                        this.values[types[1]] = 100 - this.values[changedType] - this.values[types[0]];
                    } else {
                        // If others are 0, split remaining equally
                        const types = ['strong', 'moderate', 'weak'].filter(t => t !== changedType);
                        const remaining = 100 - this.values[changedType];
                        this.values[types[0]] = Math.floor(remaining / 2);
                        this.values[types[1]] = remaining - this.values[types[0]];
                    }
                }
            },

            updateSliderUI() {
                // Update values
                document.getElementById('strong-value').textContent = this.values.strong + '%';
                document.getElementById('moderate-value').textContent = this.values.moderate + '%';
                document.getElementById('weak-value').textContent = this.values.weak + '%';

                // Update sliders
                const strongSlider = document.getElementById('strong-slider');
                const moderateSlider = document.getElementById('moderate-slider');
                const weakSlider = document.getElementById('weak-slider');

                if (strongSlider) {
                    strongSlider.value = this.values.strong;
                    strongSlider.style.background = `linear-gradient(to right, #e74c3c 0%, #e74c3c ${this.values.strong}%, #e0e6ed ${this.values.strong}%, #e0e6ed 100%)`;
                }

                if (moderateSlider) {
                    moderateSlider.value = this.values.moderate;
                    moderateSlider.style.background = `linear-gradient(to right, #3498db 0%, #3498db ${this.values.moderate}%, #e0e6ed ${this.values.moderate}%, #e0e6ed 100%)`;
                }

                if (weakSlider) {
                    weakSlider.value = this.values.weak;
                    weakSlider.style.background = `linear-gradient(to right, #2ecc71 0%, #2ecc71 ${this.values.weak}%, #e0e6ed ${this.values.weak}%, #e0e6ed 100%)`;
                }

                // Update total
                const total = this.values.strong + this.values.moderate + this.values.weak;
                document.getElementById('total-percentage').textContent = total + '%';
            },

            calculate() {
                // Calculate expected job leads based on user's network composition
                // Higher weights for weak/moderate ties (per Granovetter's findings)
                const userStrong = this.values.strong / 100;
                const userModerate = this.values.moderate / 100;
                const userWeak = this.values.weak / 100;

                // Calculate expected leads proportional to baseline success rates
                const strongLeads = userStrong * this.baseline.strong;
                const moderateLeads = userModerate * this.baseline.moderate;
                const weakLeads = userWeak * this.baseline.weak;

                const totalLeads = strongLeads + moderateLeads + weakLeads;

                // Normalize to percentages
                const strongPct = totalLeads > 0 ? (strongLeads / totalLeads) * 100 : 0;
                const moderatePct = totalLeads > 0 ? (moderateLeads / totalLeads) * 100 : 0;
                const weakPct = totalLeads > 0 ? (weakLeads / totalLeads) * 100 : 0;

                // Calculate success probability relative to baseline
                // Baseline is if network matches empirical distribution perfectly
                const baselineScore = this.baseline.strong * this.baseline.strong +
                                     this.baseline.moderate * this.baseline.moderate +
                                     this.baseline.weak * this.baseline.weak;

                const userScore = userStrong * this.baseline.strong +
                                 userModerate * this.baseline.moderate +
                                 userWeak * this.baseline.weak;

                const successProbability = (userScore / baselineScore) * 100;

                // Update display
                this.updateResults(successProbability, strongPct, moderatePct, weakPct);
            },

            updateResults(successProb, strongPct, moderatePct, weakPct) {
                // Update probability display
                const probElement = document.getElementById('success-probability');
                const barElement = document.getElementById('probability-bar');

                if (probElement) {
                    probElement.textContent = successProb.toFixed(0) + '%';

                    // Color based on probability
                    if (successProb >= 100) {
                        probElement.style.color = '#10b981';
                    } else if (successProb >= 80) {
                        probElement.style.color = '#3b82f6';
                    } else if (successProb >= 60) {
                        probElement.style.color = '#f59e0b';
                    } else {
                        probElement.style.color = '#ef4444';
                    }
                }

                // Update progress bar
                if (barElement) {
                    const width = Math.min(successProb, 100);
                    barElement.style.width = width + '%';

                    let label = '';
                    let bgColor = '';

                    if (successProb >= 100) {
                        label = 'Excellent';
                        bgColor = 'linear-gradient(90deg, #10b981 0%, #059669 100%)';
                    } else if (successProb >= 80) {
                        label = 'Good';
                        bgColor = 'linear-gradient(90deg, #3b82f6 0%, #2563eb 100%)';
                    } else if (successProb >= 60) {
                        label = 'Fair';
                        bgColor = 'linear-gradient(90deg, #f59e0b 0%, #d97706 100%)';
                    } else {
                        label = 'Below Average';
                        bgColor = 'linear-gradient(90deg, #ef4444 0%, #dc2626 100%)';
                    }

                    barElement.textContent = label;
                    barElement.style.background = bgColor;
                }

                // Update breakdown
                document.getElementById('strong-leads').textContent = strongPct.toFixed(0) + '%';
                document.getElementById('moderate-leads').textContent = moderatePct.toFixed(0) + '%';
                document.getElementById('weak-leads').textContent = weakPct.toFixed(0) + '%';

                // Update comparison text
                this.updateComparison(successProb);
            },

            updateComparison(successProb) {
                const comparisonText = document.getElementById('comparison-text');
                if (!comparisonText) return;

                const strongDiff = this.values.strong - (this.baseline.strong * 100);
                const weakDiff = this.values.weak - (this.baseline.weak * 100);

                let message = '';

                if (successProb >= 105) {
                    message = `üéâ <strong>Excellent network composition!</strong> Your network has a higher proportion of weak ties (${this.values.weak}%) compared to the study baseline (${(this.baseline.weak * 100).toFixed(1)}%). This gives you access to more diverse, non-redundant job information.`;
                } else if (successProb >= 95 && successProb < 105) {
                    message = `‚úÖ <strong>Well-balanced network.</strong> Your network composition closely matches the empirical findings from Granovetter's study. This balance provides good access to job opportunities.`;
                } else if (strongDiff > 20) {
                    message = `‚ö†Ô∏è <strong>Too many strong ties.</strong> Your network has ${this.values.strong}% strong ties versus the study's ${(this.baseline.strong * 100).toFixed(1)}%. Strong ties provide redundant information since they know the same people. Consider expanding your weak ties for more diverse opportunities.`;
                } else if (weakDiff < -10) {
                    message = `üí° <strong>Room for improvement.</strong> Your network has only ${this.values.weak}% weak ties. Granovetter's study showed ${(this.baseline.weak * 100).toFixed(1)}% of jobs came through weak ties. Reconnecting with distant contacts could improve your job search success.`;
                } else {
                    message = `üìä <strong>Moderate network diversity.</strong> Your network composition differs from the study baseline. Success rate: ${successProb.toFixed(0)}% of baseline effectiveness.`;
                }

                comparisonText.innerHTML = message;
            }
        };

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            if (document.getElementById('networkCanvas')) {
                NetworkSimulator.init();
            }

            if (document.getElementById('strong-slider')) {
                JobSearchCalculator.init();
            }
        });
    </script>
</body>
</html>
